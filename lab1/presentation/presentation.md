---
## Front matter
lang: ru-RU
title: Отчёт по лабораторной работе 1-C (НФИ-2)
subtitle: Julia. Установка и настройка. Основные принципы.
author:
  - Козлов В.П.
  - Гаинэ А.
  - Шуваев С.
  - Джахангиров И.З
  - Хватов М.Г.
institute:
  - Российский университет дружбы народов им. Патриса Лумумбы, Москва, Россия

## i18n babel
babel-lang: russian
babel-otherlangs: english

## Formatting pdf
toc: false
toc-title: Содержание
slide_level: 2
aspectratio: 169
section-titles: true
theme: metropolis
header-includes:
 - \metroset{progressbar=frametitle,sectionpage=progressbar,numbering=fraction}
 - '\makeatletter'
 - '\makeatother'

## Fonts
mainfont: Arial
romanfont: Arial
sansfont: Arial
monofont: Arial
---


## Докладчик

  * Козлов В.П., Гаинэ А., Шуваев С., Джахангиров И.З, Хватов М.Г.
  * НФИбд-02-22
  * Российский университет дружбы народов
  
# Выполнение лабораторной работы

## Цель работы

Отработка на практике методов обнаружения, анализа и нейтрализации многоэтапной компьютерной атаки, направленной на кражу научно-технической информации предприятия, с использованием учебного программного комплекса «Ampire».

## Задание

1. Обнаружить подбор пароля к файловому серверу и последующую загрузку вредоносного файла.
2. Выявить бэкдор на рабочей станции через анализ планировщика задач и запущенных процессов.
3. Зафиксировать кражу учётных данных (например, с помощью утилиты LaZagne) и их использование для доступа к Redmine.
4. Проанализировать XSS-атаку в Redmine, которая привела к включению REST API и созданию привилегированного пользователя.
5. Обнаружить слепую SQL-инъекцию, используемую для извлечения конфиденциальных данных из базы данных.
6. Нейтрализовать последствия атаки: удалить бэкдор, несанкционированного пользователя и внедрённый вредоносный код.
7. Устранить уязвимости: пропатчить Redmine от XSS (CVE-2019-17427) и SQL-инъекции (CVE-2019-18890), усилить политику паролей.

## Активировали WireGuard и зашли на сайт платформы

![Установка Chocolatey](image/1.png){ #fig:001 width=70% }

## На сайте ViPNet IDS NS просмотрели атакованные ip-адреса и суть атак

![Атакованные ip-адреса](image/2.png){ #fig:002 width=70% }

## Добавили карточку инцидента Weak Password

![Карточка инцидента Weak Password](image/100.png){ #fig:100 width=70% }

## Добавили карточку инцидента XSS

![Карточка инцидента XSS](image/200.png){ #fig:200 width=70% }

## Добавили карточку инцидента SQL-injection

![Добавили карточку инцидента SQL-injection](image/300.png){ #fig:300 width=70% }

## Атака XSS. Открыли на редактирование файл redcloth3.rb атакованного ip-адреса

![Файл redcloth3.rb атакованного ip-адреса](image/3.png){ #fig:003 width=70% }

## Атака XSS. Удалили тег pre из разрешенных тегов, которые не будут экранированы

![Удаление тега](image/4.png){ #fig:004 width=70% }

## Атака XSS. Перезапустили службу веб-сервера: sudo systemctl restart nginx.service

![Перезапуск службы веб-сервера](image/5.png){ #fig:005 width=70% }

## Последствия XSS. Удалили пользователя hacker

![Удалиление пользователя hacker](image/6.png){ #fig:006 width=70% }

## Атака SQL-инъекция. Открыли файл query.rb на редактирование на 10.10.2.15

![Файл query.rb](image/7.png){ #fig:007 width=70% }

## Атака SQL-инъекция. Отредактировали query.rb, заменив each на map

![Редактирование query.rb](image/8.png){ #fig:008 width=70% }

## Атака SQL-инъекция. Перезапустили nginx

![Перезапуск nginx](image/9.png){ #fig:009 width=70% }

## Атака Weak Password. Зашли на MS Active Directory

![MS Active Directory](image/10.png){ #fig:010 width=70% }

## Атака Weak Password. Сбросили пароль на dev1

![Сброс пароля](image/11.png){ #fig:011 width=70% }

## Последствие Weak Password. Удалили Evil Task из планировщика задач

![Удаление Evil Task](image/12.png){ #fig:012 width=70% }

## Выводы

Отработали на практике методы обнаружения, анализа и нейтрализации многоэтапной компьютерной атаки, направленной на кражу научно-технической информации предприятия, с использованием учебного программного комплекса «Ampire».