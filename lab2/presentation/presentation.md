---
## Front matter
lang: ru-RU
title: Отчёт по лабораторной работе 1-A (НФИ-2)
subtitle: Julia. Установка и настройка. Основные принципы.
author:
  - Козлов В.П.
  - Гэинэ А.
  - Шуваев С.
  - Джахангиров И.З
  - Хватов М.Г.
institute:
  - Российский университет дружбы народов им. Патриса Лумумбы, Москва, Россия

## i18n babel
babel-lang: russian
babel-otherlangs: english

## Formatting pdf
toc: false
toc-title: Содержание
slide_level: 2
aspectratio: 169
section-titles: true
theme: metropolis
header-includes:
 - \metroset{progressbar=frametitle,sectionpage=progressbar,numbering=fraction}
 - '\makeatletter'
 - '\makeatother'

## Fonts
mainfont: Arial
romanfont: Arial
sansfont: Arial
monofont: Arial
---


## Докладчик

  * Козлов В.П., Гэинэ А., Шуваев С., Джахангиров И.З, Хватов М.Г.
  * НФИбд-02-22
  * Российский университет дружбы народов
  
# Выполнение лабораторной работы

## Цель работы

Отработать сценарий действий нарушителя
«Защита контроллера домена предприятия» на базе программного комплекса
обучения методам обнаружения, анализа и устранения последствий
компьютерных атак «Ampire».

## Задание

1. Обнаружить SQL-injection на PHP Server.

2. Устранить уязвимость в контроллере NewsController.php.

3. Устранить последствие (Web portal meterpreter). Убиваем сессию нарушителя.

4. Обнаружить сессию нарушителя на узле администратора.

5. Запустить защиту в реальном времени Windows defender, очистить регистр.

6. Устранить последствие (Admin meterpreter). Убиваем сессию нарушителя.

7. Обнаружить попытку подбора паролей на узле MS Active Directory.

8. Изменить пароль к учетной записи администратора на более
сложный.

9. Устранить последствие (AD User). Удалить нового привилегированного пользователя.

## На сайте ViPNet IDS NS просмотрели атакованные активы и суть атак

![Атакованные ip-адреса](image/2.png){ #fig:300 width=70% }

## Добавили карточку инцидента "SQL Инъекция"

![Карточка инцидента "SQL Инъекция"](image/100.png){ #fig:003 width=70% }

## Добавили карточку инцидента "Отключённый антивирус"

![Карточка инцидента "Отключённый антивирус"](image/200.png){ #fig:004 width=70% }

## Добавили карточку инцидента "Слабый пароль сервера AD"

![Добавили карточку инцидента "Слабый пароль сервера AD"](image/300.png){ #fig:005 width=70% }

## SQL Инъекция. Открыли контроллер NewsController, добавили простейший фильтр для id

![NewsController.php](image/3.png){ #fig:006 width=70% }

## SQL Инъекция. Убиваем сессию нарушителя

![Убиваем сессию](image/4.png){ #fig:007 width=70% }

## Отключённый антивирус. Заходим на узел администратора, удаляем запись из регистра

![Удаление из регистра](image/5.png){ #fig:008 width=70% }

## Отключённый антивирус. Включаем защиту в настоящем времени

![Включаем антиврус](image/6.png){ #fig:009 width=70% }

## Отключённый антивирус. Находим PID сессии с нарушителем, убиваем её

![Сессия нарушителя устранена](image/7.png){ #fig:010 width=70% }

## Слабый пароль. Заходим на MS AD, меняем пароль администратора 

![Меняем пароль](image/8.png){ #fig:011 width=70% }

## Слабый пароль. В Active directory users and computers, удаляем нового пользователя

![Удалили hacker'а](image/9.png){ #fig:012 width=70% }

## Выводы

Отраболи сценарий действий нарушителя
«Защита контроллера домена предприятия» на базе «Ampire».